# ü•û Entendendo Pilhas Din√¢micas em C

Bem-vindo! Depois de entender a Pilha Est√°tica, √© hora de dar um passo al√©m. Vamos descobrir como construir uma pilha que cresce e encolhe como m√°gica, usando a **Pilha Din√¢mica**.

## üß± O que √© uma Pilha Din√¢mica? (O Exemplo dos Blocos de Montar)

Imagine que voc√™ est√° brincando com blocos de montar (tipo LEGO). 
1. Voc√™ coloca uma pe√ßa na mesa. 
2. Depois, encaixa outra pe√ßa *em cima* da primeira. E outra em cima dessa.
3. N√£o existe uma caixa limitando a altura da sua torre. Voc√™ pode continuar empilhando blocos enquanto tiver pe√ßas na sua caixa de brinquedos!

Na programa√ß√£o, uma **Pilha Din√¢mica** funciona da mesma maneira. [cite_start]O espa√ßo de mem√≥ria √© alocado em tempo de execu√ß√£o[cite: 1588]. [cite_start]A pilha cresce √† medida que novos elementos s√£o armazenados, e diminui √† medida que elementos s√£o removidos[cite: 1589].

[cite_start]Como os blocos n√£o est√£o grudados fixamente numa caixa de papel√£o (vetor), cada elemento √© alocado em uma √°rea distinta da mem√≥ria[cite: 1590]. [cite_start]Para a torre n√£o desmoronar, cada elemento aponta para o seu sucessor na pilha (a pe√ßa de baixo)[cite: 1292].



## üé© O "Gerente" do Topo

[cite_start]Para n√£o perdermos a nossa torre de vista, usamos um ponteiro especial para o primeiro elemento da pilha (o bloco mais alto)[cite: 1293]. [cite_start]N√≥s chamamos ele de **Topo**[cite: 1295].
* [cite_start]**Empilhar:** N√≥s criamos um bloco novo, dizemos que a parte de baixo dele aponta para o antigo Topo, e avisamos ao sistema: "Ei, o Topo agora √© esse bloco novo!"[cite: 1448, 1449]. [cite_start]A inser√ß√£o √© sempre feita no seu topo[cite: 1434].
* **Desempilhar:** N√≥s olhamos para o Topo atual, vemos quem est√° embaixo dele, e dizemos: "O novo Topo agora √© a pe√ßa de baixo". [cite_start]Depois, jogamos a pe√ßa antiga fora (liberamos a mem√≥ria)[cite: 1479, 1480]. [cite_start]A remo√ß√£o √© sempre no seu topo[cite: 1744].

---

## üìå Resumo: 5 Pontos Principais

1. [cite_start]**A Mesma Regra LIFO:** O comportamento √© o mesmo da pilha est√°tica: o √∫ltimo elemento a entrar √© sempre o primeiro a sair[cite: 1434, 1744].
2. **Crescimento Livre:** A mem√≥ria √© alocada sob demanda (durante a execu√ß√£o). [cite_start]A pilha n√£o tem um limite `MAX` definido[cite: 1588, 1589].
3. [cite_start]**Elos da Corrente:** Cada elemento guarda a sua informa√ß√£o e um "gancho" (ponteiro) que segura o elemento de baixo[cite: 1292].
4. [cite_start]**O Ponteiro Topo:** O controle de toda a estrutura √© feito exclusivamente pelo ponteiro que marca quem est√° no topo da pilha[cite: 1295].
5. [cite_start]**Mem√≥ria Limpa:** Toda vez que removemos um elemento, precisamos usar a fun√ß√£o `free()` para devolver o espa√ßo daquele bloco para o computador[cite: 1480].

---

## üß† Teste o seu entendimento

1. Qual √© a principal diferen√ßa de constru√ß√£o entre uma Pilha Est√°tica e uma Pilha Din√¢mica?
2. Por que n√£o faz sentido criar uma fun√ß√£o para verificar se a Pilha Din√¢mica est√° cheia?
3. Se o ponteiro que indica o Topo da pilha for igual a `NULL` (vazio), o que isso significa sobre a nossa torre de blocos?

*(Respostas no final do documento)*

---

## ‚ö†Ô∏è Erros Mais Comuns de Alunos Iniciantes

* **Perder o Topo (Memory Leak):** Na hora de remover, o aluno muda o Topo direto para a pe√ßa de baixo, mas esquece de usar o `free()` na pe√ßa que foi removida. O dado fica "flutuando" na mem√≥ria do computador gastando espa√ßo √† toa.
* **Quebrar a Torre:** Na hora de inserir, o aluno diz que o novo bloco √© o Topo *antes* de fazer o novo bloco apontar para o Topo antigo. Resultado: a liga√ß√£o com o resto da pilha se perde para sempre! A ordem importa.
* [cite_start]**Tentar remover do infinito:** Esquecer de programar a verifica√ß√£o de pilha vazia (`*pi == NULL`) na hora de desempilhar[cite: 1425]. Se a pilha estiver vazia e o c√≥digo tentar olhar quem est√° "embaixo" do nada, o programa quebra.

---
*Gabarito do Teste:*
*1. A Est√°tica usa um vetor de tamanho fixo criado na compila√ß√£o. A Din√¢mica cria n√≥s separados na mem√≥ria sob demanda durante a execu√ß√£o.*
*2. Porque ela n√£o tem um limite `MAX` programado. Ela s√≥ "enche" se a mem√≥ria RAM do computador inteiro se esgotar.*
*3. [cite_start]Significa que a pilha est√° completamente vazia[cite: 1425]. N√£o h√° nenhuma pe√ßa na mesa.*